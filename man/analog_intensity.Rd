% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analog_intensity.R
\name{analog_intensity}
\alias{analog_intensity}
\title{Analog intensity: weighted sum of analogs within climate/geographic limits}
\usage{
analog_intensity(
  focal,
  ref,
  max_clim = NULL,
  max_geog = NULL,
  weight = c("uniform", "inverse_clim", "inverse_geog"),
  theta = NULL,
  coord_type = "auto"
)
}
\arguments{
\item{focal}{Data.frame/matrix/SpatRaster of focal points.}

\item{ref}{Data.frame/matrix/SpatRaster of reference points.}

\item{max_clim}{Maximum climate distance (scalar or vector), or NULL for no
climate constraint.}

\item{max_geog}{Maximum geographic distance in km, or NULL for no geographic
constraint.}

\item{weight}{Weighting kernel, one of:
\itemize{
  \item \code{"uniform"}: weight = 1 for all matches.
  \item \code{"inverse_clim"}: weight = 1 / (climate_distance + theta),
    with \code{theta} as epsilon (if NULL, a small default is used).
  \item \code{"inverse_geog"}: weight = 1 / (geographic_distance + theta),
    with \code{theta} as epsilon (if NULL, a small default is used).
}}

\item{theta}{Optional numeric hyperparameter for the weighting kernel
(epsilon term for inverse kernels). See \code{weight} description.}

\item{coord_type}{"auto", "lonlat", or "projected".}
}
\value{
A data.frame with one row per focal location:
  \itemize{
    \item \code{focal_index}
    \item \code{focal_x}, \code{focal_y}
    \item \code{value}: weighted sum over all analogs
  }
}
\description{
Computes, for each focal location, the weighted sum of all reference locations
that satisfy the supplied climate and geographic constraints. The weights are
controlled by the \code{weight} and \code{theta} arguments and are applied
after filtering.
}
